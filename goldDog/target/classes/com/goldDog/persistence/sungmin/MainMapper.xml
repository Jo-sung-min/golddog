<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.goldDog.persistence.sungmin.MainMapper">
	<!-- 맴버 여러명 가져오기 -->	
	<select id="getMember" resultType="com.goldDog.domain.MemberVO">
		select * from member
	</select>
	
	<!-- 맴버 한명만 가져오기 -->	
	<select id="getOneMember" resultType="com.goldDog.domain.MemberVO">
		select * from member where m_no=#{m_no} 
	</select>
	
	<!-- 훈련사 한명의 정보 가져오기 -->
	<select id="getTrainer" resultType="com.goldDog.domain.TrainerVO">
		select * from trainer where t_no=#{t_no}
	</select>

	<!-- 모든 훈련사 가져오기 -->
	<select id="getAllTrainer" resultType="com.goldDog.domain.TrainerVO">
		select * from trainer order by t_date 
	</select>
	
	<!-- 리뷰 하나 가져오기 -->
	<select id="getReview" resultType="com.goldDog.domain.ReviewVO">
		select * from Review where m_no=#{m_no} 
	</select>
	
	<!-- 훈련사 한명에 해당하는 모든 리뷰 가져오기 -->
	<select id="getAllReview" resultType="com.goldDog.domain.ReviewVO">
		select * from Review where t_no=#{t_no} 
	</select>

	<!-- 판매자 한명이 가지고 있는 리뷰 총갯수 세어주기 -->
	<select id="getReviewCount" resultType="int">
		 select count(*) from review where t_no=#{t_no}
	</select>
	

	<!-- 판매자 추가정보 등록하기 -->
	<update id="addTinfo">
		update trainer set 
		t_self=#{t_self}, t_sel=#{t_sel}, t_license=#{t_license}, t_price=#{t_price}, t_career=#{t_career}  
		where m_no = #{m_no}
	</update>
		
	<!-- 트레이너 리뷰 평점-->
	<select id="rAvg" resultType="int">
		 select * from review where t_no=#{t_no}
	</select>
	







</mapper>